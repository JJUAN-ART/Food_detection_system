<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>系统设置 - 食品检测管理系统</title>
    <link rel="stylesheet" href="../css/styles.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css">
</head>
<body>
    <div class="container-fluid">
        <div class="row">
            <!-- 侧边导航栏 -->
            <div class="col-md-2 sidebar">
                <div class="d-flex flex-column p-3 text-white bg-dark h-100">
                    <a href="/" class="d-flex align-items-center mb-3 mb-md-0 me-md-auto text-white text-decoration-none">
                        <span class="fs-4">食品检测系统</span>
                    </a>
                    <hr>
                    <ul class="nav nav-pills flex-column mb-auto">
                        <li class="nav-item">
                            <a href="../index.html" class="nav-link text-white">
                                <i class="bi bi-speedometer2 me-2"></i>首页总览
                            </a>
                        </li>
                        <li>
                            <a href="detection.html" class="nav-link text-white">
                                <i class="bi bi-list-check me-2"></i>食品检测管理
                            </a>
                        </li>
                        <li>
                            <a href="risk-warning.html" class="nav-link text-white">
                                <i class="bi bi-exclamation-triangle me-2"></i>风险预警与分析
                            </a>
                        </li>
                        <li>
                            <a href="task-scheduling.html" class="nav-link text-white">
                                <i class="bi bi-calendar-check me-2"></i>检测任务调度
                            </a>
                        </li>
                        <li>
                            <a href="traceability.html" class="nav-link text-white">
                                <i class="bi bi-search me-2"></i>食品追溯
                            </a>
                        </li>
                        <li>
                            <a href="reports.html" class="nav-link text-white">
                                <i class="bi bi-file-earmark-bar-graph me-2"></i>数据报表与统计分析
                            </a>
                        </li>
                        <li>
                            <a href="settings.html" class="nav-link active">
                                <i class="bi bi-gear me-2"></i>系统设置
                            </a>
                        </li>
                    </ul>
                </div>
            </div>

            <!-- 主内容区域 -->
            <div class="col-md-10 main-content">
                <div class="container mt-4">
                    <div class="d-flex justify-content-between align-items-center mb-4">
                        <h2>系统设置</h2>
                    </div>

                    <!-- 设置选项卡 -->
                    <div class="card">
                        <div class="card-body">
                            <ul class="nav nav-tabs" id="settingsTabs" role="tablist">
                                <li class="nav-item" role="presentation">
                                    <button class="nav-link active" id="profile-tab" data-bs-toggle="tab" data-bs-target="#profile" type="button" role="tab" aria-controls="profile" aria-selected="true">个人信息</button>
                                </li>
                                <li class="nav-item" role="presentation">
                                    <button class="nav-link" id="system-tab" data-bs-toggle="tab" data-bs-target="#system" type="button" role="tab" aria-controls="system" aria-selected="false">系统参数</button>
                                </li>
                                <li class="nav-item" role="presentation">
                                    <button class="nav-link" id="notification-tab" data-bs-toggle="tab" data-bs-target="#notification" type="button" role="tab" aria-controls="notification" aria-selected="false">通知设置</button>
                                </li>
                                <li class="nav-item" role="presentation">
                                    <button class="nav-link" id="users-tab" data-bs-toggle="tab" data-bs-target="#users" type="button" role="tab" aria-controls="users" aria-selected="false">用户管理</button>
                                </li>
                                <li class="nav-item" role="presentation">
                                    <button class="nav-link" id="backup-tab" data-bs-toggle="tab" data-bs-target="#backup" type="button" role="tab" aria-controls="backup" aria-selected="false">数据备份</button>
                                </li>
                            </ul>
                            
                            <div class="tab-content mt-4" id="settingsTabContent">
                                <!-- 个人信息设置 -->
                                <div class="tab-pane fade show active" id="profile" role="tabpanel" aria-labelledby="profile-tab">
                                    <h4 class="mb-4">个人信息设置</h4>
                                    <form>
                                        <div class="row mb-3">
                                            <div class="col-md-6">
                                                <div class="text-center mb-4">
                                                    <div class="rounded-circle bg-light d-flex align-items-center justify-content-center mx-auto" style="width: 150px; height: 150px;">
                                                        <i class="bi bi-person-fill" style="font-size: 5rem;"></i>
                                                    </div>
                                                    <div class="mt-2">
                                                        <button type="button" class="btn btn-outline-primary btn-sm">更换头像</button>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col-md-6">
                                                <div class="mb-3">
                                                    <label class="form-label">用户名</label>
                                                    <input type="text" class="form-control" value="admin" disabled>
                                                </div>
                                                <div class="mb-3">
                                                    <label class="form-label">姓名</label>
                                                    <input type="text" class="form-control" value="管理员">
                                                </div>
                                                <div class="mb-3">
                                                    <label class="form-label">邮箱</label>
                                                    <input type="email" class="form-control" value="admin@example.com">
                                                </div>
                                                <div class="mb-3">
                                                    <label class="form-label">手机号码</label>
                                                    <input type="tel" class="form-control" value="13800138000">
                                                </div>
                                            </div>
                                        </div>
                                        <div class="row">
                                            <div class="col-md-6">
                                                <div class="mb-3">
                                                    <label class="form-label">当前密码</label>
                                                    <input type="password" class="form-control">
                                                </div>
                                            </div>
                                            <div class="col-md-6">
                                                <div class="mb-3">
                                                    <label class="form-label">新密码</label>
                                                    <input type="password" class="form-control">
                                                </div>
                                            </div>
                                            <div class="col-md-6">
                                                <div class="mb-3">
                                                    <label class="form-label">确认新密码</label>
                                                    <input type="password" class="form-control">
                                                </div>
                                            </div>
                                        </div>
                                        <div class="text-end">
                                            <button type="button" class="btn btn-primary">保存更改</button>
                                        </div>
                                    </form>
                                </div>
                                
                                <!-- 系统参数设置 -->
                                <div class="tab-pane fade" id="system" role="tabpanel" aria-labelledby="system-tab">
                                    <h4 class="mb-4">系统参数设置</h4>
                                    <form>
                                        <div class="row">
                                            <div class="col-md-6">
                                                <div class="mb-3">
                                                    <label class="form-label">系统名称</label>
                                                    <input type="text" class="form-control" value="食品检测管理系统">
                                                </div>
                                            </div>
                                            <div class="col-md-6">
                                                <div class="mb-3">
                                                    <label class="form-label">系统版本</label>
                                                    <input type="text" class="form-control" value="v1.0.0" disabled>
                                                </div>
                                            </div>
                                        </div>
                                        
                                        <div class="mb-3">
                                            <label class="form-label">系统Logo</label>
                                            <div class="input-group mb-3">
                                                <input type="file" class="form-control" id="logoUpload">
                                                <label class="input-group-text" for="logoUpload">上传</label>
                                            </div>
                                        </div>
                                        
                                        <div class="row">
                                            <div class="col-md-6">
                                                <div class="mb-3">
                                                    <label class="form-label">数据分页数量</label>
                                                    <select class="form-select">
                                                        <option>10</option>
                                                        <option>20</option>
                                                        <option selected>25</option>
                                                        <option>50</option>
                                                        <option>100</option>
                                                    </select>
                                                </div>
                                            </div>
                                            <div class="col-md-6">
                                                <div class="mb-3">
                                                    <label class="form-label">日期格式</label>
                                                    <select class="form-select">
                                                        <option selected>YYYY-MM-DD</option>
                                                        <option>DD/MM/YYYY</option>
                                                        <option>MM/DD/YYYY</option>
                                                    </select>
                                                </div>
                                            </div>
                                        </div>
                                        
                                        <div class="row">
                                            <div class="col-md-6">
                                                <div class="mb-3">
                                                    <label class="form-label">存储路径</label>
                                                    <input type="text" class="form-control" value="/data/upload">
                                                </div>
                                            </div>
                                            <div class="col-md-6">
                                                <div class="mb-3">
                                                    <label class="form-label">允许上传的文件类型</label>
                                                    <input type="text" class="form-control" value=".jpg,.png,.pdf,.doc,.docx,.xls,.xlsx">
                                                </div>
                                            </div>
                                        </div>
                                        
                                        <div class="form-check form-switch mb-3">
                                            <input class="form-check-input" type="checkbox" id="systemMaintenanceMode">
                                            <label class="form-check-label" for="systemMaintenanceMode">系统维护模式</label>
                                        </div>
                                        
                                        <div class="text-end">
                                            <button type="button" class="btn btn-primary">保存系统设置</button>
                                        </div>
                                    </form>
                                </div>
                                
                                <!-- 通知设置 -->
                                <div class="tab-pane fade" id="notification" role="tabpanel" aria-labelledby="notification-tab">
                                    <h4 class="mb-4">通知设置</h4>
                                    
                                    <div class="mb-4">
                                        <h5 class="mb-3">邮件通知设置</h5>
                                        <form>
                                            <div class="row">
                                                <div class="col-md-6">
                                                    <div class="mb-3">
                                                        <label class="form-label">SMTP服务器</label>
                                                        <input type="text" class="form-control" value="smtp.example.com">
                                                    </div>
                                                </div>
                                                <div class="col-md-6">
                                                    <div class="mb-3">
                                                        <label class="form-label">SMTP端口</label>
                                                        <input type="number" class="form-control" value="587">
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="row">
                                                <div class="col-md-6">
                                                    <div class="mb-3">
                                                        <label class="form-label">发件人邮箱</label>
                                                        <input type="email" class="form-control" value="system@example.com">
                                                    </div>
                                                </div>
                                                <div class="col-md-6">
                                                    <div class="mb-3">
                                                        <label class="form-label">发件人名称</label>
                                                        <input type="text" class="form-control" value="食品检测系统">
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="row">
                                                <div class="col-md-6">
                                                    <div class="mb-3">
                                                        <label class="form-label">SMTP用户名</label>
                                                        <input type="text" class="form-control" value="username">
                                                    </div>
                                                </div>
                                                <div class="col-md-6">
                                                    <div class="mb-3">
                                                        <label class="form-label">SMTP密码</label>
                                                        <input type="password" class="form-control" value="********">
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="form-check form-switch mb-3">
                                                <input class="form-check-input" type="checkbox" id="smtpSSL" checked>
                                                <label class="form-check-label" for="smtpSSL">使用SSL/TLS</label>
                                            </div>
                                            <div class="text-end mb-4">
                                                <button type="button" class="btn btn-outline-secondary me-2">测试连接</button>
                                                <button type="button" class="btn btn-primary">保存</button>
                                            </div>
                                        </form>
                                    </div>
                                    
                                    <hr>
                                    
                                    <div class="mb-4">
                                        <h5 class="mb-3">通知事件设置</h5>
                                        <form>
                                            <div class="table-responsive">
                                                <table class="table table-hover">
                                                    <thead>
                                                        <tr>
                                                            <th>事件类型</th>
                                                            <th>电子邮件</th>
                                                            <th>短信通知</th>
                                                            <th>系统通知</th>
                                                        </tr>
                                                    </thead>
                                                    <tbody>
                                                        <tr>
                                                            <td>有新的食品样品添加</td>
                                                            <td>
                                                                <div class="form-check form-switch">
                                                                    <input class="form-check-input" type="checkbox" checked>
                                                                </div>
                                                            </td>
                                                            <td>
                                                                <div class="form-check form-switch">
                                                                    <input class="form-check-input" type="checkbox">
                                                                </div>
                                                            </td>
                                                            <td>
                                                                <div class="form-check form-switch">
                                                                    <input class="form-check-input" type="checkbox" checked>
                                                                </div>
                                                            </td>
                                                        </tr>
                                                        <tr>
                                                            <td>检测结果不合格</td>
                                                            <td>
                                                                <div class="form-check form-switch">
                                                                    <input class="form-check-input" type="checkbox" checked>
                                                                </div>
                                                            </td>
                                                            <td>
                                                                <div class="form-check form-switch">
                                                                    <input class="form-check-input" type="checkbox" checked>
                                                                </div>
                                                            </td>
                                                            <td>
                                                                <div class="form-check form-switch">
                                                                    <input class="form-check-input" type="checkbox" checked>
                                                                </div>
                                                            </td>
                                                        </tr>
                                                        <tr>
                                                            <td>风险预警触发</td>
                                                            <td>
                                                                <div class="form-check form-switch">
                                                                    <input class="form-check-input" type="checkbox" checked>
                                                                </div>
                                                            </td>
                                                            <td>
                                                                <div class="form-check form-switch">
                                                                    <input class="form-check-input" type="checkbox" checked>
                                                                </div>
                                                            </td>
                                                            <td>
                                                                <div class="form-check form-switch">
                                                                    <input class="form-check-input" type="checkbox" checked>
                                                                </div>
                                                            </td>
                                                        </tr>
                                                        <tr>
                                                            <td>新任务分配</td>
                                                            <td>
                                                                <div class="form-check form-switch">
                                                                    <input class="form-check-input" type="checkbox" checked>
                                                                </div>
                                                            </td>
                                                            <td>
                                                                <div class="form-check form-switch">
                                                                    <input class="form-check-input" type="checkbox" checked>
                                                                </div>
                                                            </td>
                                                            <td>
                                                                <div class="form-check form-switch">
                                                                    <input class="form-check-input" type="checkbox" checked>
                                                                </div>
                                                            </td>
                                                        </tr>
                                                        <tr>
                                                            <td>系统更新可用</td>
                                                            <td>
                                                                <div class="form-check form-switch">
                                                                    <input class="form-check-input" type="checkbox" checked>
                                                                </div>
                                                            </td>
                                                            <td>
                                                                <div class="form-check form-switch">
                                                                    <input class="form-check-input" type="checkbox">
                                                                </div>
                                                            </td>
                                                            <td>
                                                                <div class="form-check form-switch">
                                                                    <input class="form-check-input" type="checkbox" checked>
                                                                </div>
                                                            </td>
                                                        </tr>
                                                    </tbody>
                                                </table>
                                            </div>
                                            
                                            <div class="text-end">
                                                <button type="button" class="btn btn-primary">保存通知设置</button>
                                            </div>
                                        </form>
                                    </div>
                                </div>
                                
                                <!-- 用户管理 -->
                                <div class="tab-pane fade" id="users" role="tabpanel" aria-labelledby="users-tab">
                                    <div class="d-flex justify-content-between align-items-center mb-4">
                                        <h4>用户管理</h4>
                                        <button class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#addUserModal">
                                            <i class="bi bi-person-plus me-2"></i>添加用户
                                        </button>
                                    </div>
                                    
                                    <div class="card mb-4">
                                        <div class="card-body">
                                            <div class="row g-3">
                                                <div class="col-md-4">
                                                    <label class="form-label">搜索用户</label>
                                                    <input type="text" class="form-control" placeholder="输入用户名或邮箱">
                                                </div>
                                                <div class="col-md-3">
                                                    <label class="form-label">用户角色</label>
                                                    <select class="form-select">
                                                        <option value="">所有角色</option>
                                                        <option value="admin">管理员</option>
                                                        <option value="operator">操作员</option>
                                                        <option value="inspector">检测员</option>
                                                        <option value="viewer">查看者</option>
                                                    </select>
                                                </div>
                                                <div class="col-md-3">
                                                    <label class="form-label">状态</label>
                                                    <select class="form-select">
                                                        <option value="">所有状态</option>
                                                        <option value="active">活跃</option>
                                                        <option value="inactive">禁用</option>
                                                    </select>
                                                </div>
                                                <div class="col-md-2 d-flex align-items-end">
                                                    <button class="btn btn-primary w-100">查询</button>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    
                                    <div class="table-responsive">
                                        <table class="table table-hover">
                                            <thead>
                                                <tr>
                                                    <th width="5%">#</th>
                                                    <th width="15%">用户名</th>
                                                    <th width="15%">姓名</th>
                                                    <th width="20%">邮箱</th>
                                                    <th width="15%">角色</th>
                                                    <th width="10%">状态</th>
                                                    <th width="10%">最后登录</th>
                                                    <th width="10%">操作</th>
                                                </tr>
                                            </thead>
                                            <tbody>
                                                <tr>
                                                    <td>1</td>
                                                    <td>admin</td>
                                                    <td>系统管理员</td>
                                                    <td>admin@example.com</td>
                                                    <td><span class="badge bg-primary">管理员</span></td>
                                                    <td><span class="badge bg-success">活跃</span></td>
                                                    <td>2023-04-20</td>
                                                    <td>
                                                        <div class="btn-group btn-group-sm">
                                                            <button class="btn btn-outline-primary" data-bs-toggle="modal" data-bs-target="#editUserModal"><i class="bi bi-pencil"></i></button>
                                                            <button class="btn btn-outline-danger" disabled><i class="bi bi-trash"></i></button>
                                                        </div>
                                                    </td>
                                                </tr>
                                                <tr>
                                                    <td>2</td>
                                                    <td>operator1</td>
                                                    <td>张三</td>
                                                    <td>zhangsan@example.com</td>
                                                    <td><span class="badge bg-info">操作员</span></td>
                                                    <td><span class="badge bg-success">活跃</span></td>
                                                    <td>2023-04-19</td>
                                                    <td>
                                                        <div class="btn-group btn-group-sm">
                                                            <button class="btn btn-outline-primary" data-bs-toggle="modal" data-bs-target="#editUserModal"><i class="bi bi-pencil"></i></button>
                                                            <button class="btn btn-outline-danger"><i class="bi bi-trash"></i></button>
                                                        </div>
                                                    </td>
                                                </tr>
                                                <tr>
                                                    <td>3</td>
                                                    <td>inspector1</td>
                                                    <td>李四</td>
                                                    <td>lisi@example.com</td>
                                                    <td><span class="badge bg-warning text-dark">检测员</span></td>
                                                    <td><span class="badge bg-success">活跃</span></td>
                                                    <td>2023-04-18</td>
                                                    <td>
                                                        <div class="btn-group btn-group-sm">
                                                            <button class="btn btn-outline-primary" data-bs-toggle="modal" data-bs-target="#editUserModal"><i class="bi bi-pencil"></i></button>
                                                            <button class="btn btn-outline-danger"><i class="bi bi-trash"></i></button>
                                                        </div>
                                                    </td>
                                                </tr>
                                                <tr>
                                                    <td>4</td>
                                                    <td>viewer1</td>
                                                    <td>王五</td>
                                                    <td>wangwu@example.com</td>
                                                    <td><span class="badge bg-secondary">查看者</span></td>
                                                    <td><span class="badge bg-danger">禁用</span></td>
                                                    <td>2023-04-15</td>
                                                    <td>
                                                        <div class="btn-group btn-group-sm">
                                                            <button class="btn btn-outline-primary" data-bs-toggle="modal" data-bs-target="#editUserModal"><i class="bi bi-pencil"></i></button>
                                                            <button class="btn btn-outline-danger"><i class="bi bi-trash"></i></button>
                                                        </div>
                                                    </td>
                                                </tr>
                                            </tbody>
                                        </table>
                                    </div>
                                    
                                    <nav aria-label="Page navigation" class="mt-4">
                                        <ul class="pagination justify-content-center">
                                            <li class="page-item disabled">
                                                <a class="page-link" href="#" tabindex="-1">上一页</a>
                                            </li>
                                            <li class="page-item active"><a class="page-link" href="#">1</a></li>
                                            <li class="page-item"><a class="page-link" href="#">2</a></li>
                                            <li class="page-item">
                                                <a class="page-link" href="#">下一页</a>
                                            </li>
                                        </ul>
                                    </nav>
                                </div>
                                
                                <!-- 数据备份 -->
                                <div class="tab-pane fade" id="backup" role="tabpanel" aria-labelledby="backup-tab">
                                    <h4 class="mb-4">数据备份与恢复</h4>
                                    
                                    <div class="row mb-4">
                                        <div class="col-md-6">
                                            <div class="card">
                                                <div class="card-body">
                                                    <h5 class="card-title">创建备份</h5>
                                                    <p class="card-text text-muted">创建系统数据的完整备份，包括数据库和上传的文件</p>
                                                    
                                                    <form>
                                                        <div class="mb-3">
                                                            <label class="form-label">备份描述</label>
                                                            <input type="text" class="form-control" placeholder="输入备份描述（可选）">
                                                        </div>
                                                        <div class="form-check mb-3">
                                                            <input class="form-check-input" type="checkbox" id="includeFiles" checked>
                                                            <label class="form-check-label" for="includeFiles">
                                                                包含上传的文件
                                                            </label>
                                                        </div>
                                                        <div class="d-grid">
                                                            <button type="button" class="btn btn-primary">
                                                                <i class="bi bi-download me-2"></i>创建备份
                                                            </button>
                                                        </div>
                                                    </form>
                                                </div>
                                            </div>
                                        </div>
                                        
                                        <div class="col-md-6">
                                            <div class="card">
                                                <div class="card-body">
                                                    <h5 class="card-title">恢复备份</h5>
                                                    <p class="card-text text-muted">从现有备份中恢复系统数据</p>
                                                    
                                                    <form>
                                                        <div class="mb-3">
                                                            <label class="form-label">选择备份文件</label>
                                                            <input type="file" class="form-control" accept=".zip,.sql">
                                                        </div>
                                                        <div class="form-check mb-3">
                                                            <input class="form-check-input" type="checkbox" id="overwriteExisting">
                                                            <label class="form-check-label" for="overwriteExisting">
                                                                覆盖现有数据
                                                            </label>
                                                            <div class="form-text text-danger">警告：这将删除所有现有数据！</div>
                                                        </div>
                                                        <div class="d-grid">
                                                            <button type="button" class="btn btn-warning">
                                                                <i class="bi bi-upload me-2"></i>恢复备份
                                                            </button>
                                                        </div>
                                                    </form>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    
                                    <div class="card">
                                        <div class="card-header">
                                            <h5 class="mb-0">备份历史</h5>
                                        </div>
                                        <div class="card-body">
                                            <div class="table-responsive">
                                                <table class="table table-hover">
                                                    <thead>
                                                        <tr>
                                                            <th width="5%">#</th>
                                                            <th width="15%">备份日期</th>
                                                            <th width="15%">文件大小</th>
                                                            <th width="15%">创建者</th>
                                                            <th width="30%">描述</th>
                                                            <th width="20%">操作</th>
                                                        </tr>
                                                    </thead>
                                                    <tbody>
                                                        <tr>
                                                            <td>1</td>
                                                            <td>2023-04-20 08:30</td>
                                                            <td>258.4 MB</td>
                                                            <td>系统管理员</td>
                                                            <td>系统升级前自动备份</td>
                                                            <td>
                                                                <button class="btn btn-sm btn-outline-primary me-1">下载</button>
                                                                <button class="btn btn-sm btn-outline-warning me-1">恢复</button>
                                                                <button class="btn btn-sm btn-outline-danger">删除</button>
                                                            </td>
                                                        </tr>
                                                        <tr>
                                                            <td>2</td>
                                                            <td>2023-04-15 17:45</td>
                                                            <td>245.1 MB</td>
                                                            <td>系统管理员</td>
                                                            <td>每周例行备份</td>
                                                            <td>
                                                                <button class="btn btn-sm btn-outline-primary me-1">下载</button>
                                                                <button class="btn btn-sm btn-outline-warning me-1">恢复</button>
                                                                <button class="btn btn-sm btn-outline-danger">删除</button>
                                                            </td>
                                                        </tr>
                                                        <tr>
                                                            <td>3</td>
                                                            <td>2023-04-08 09:15</td>
                                                            <td>242.8 MB</td>
                                                            <td>系统管理员</td>
                                                            <td>每周例行备份</td>
                                                            <td>
                                                                <button class="btn btn-sm btn-outline-primary me-1">下载</button>
                                                                <button class="btn btn-sm btn-outline-warning me-1">恢复</button>
                                                                <button class="btn btn-sm btn-outline-danger">删除</button>
                                                            </td>
                                                        </tr>
                                                    </tbody>
                                                </table>
                                            </div>
                                        </div>
                                    </div>
                                    
                                    <div class="card mt-4">
                                        <div class="card-header">
                                            <h5 class="mb-0">自动备份设置</h5>
                                        </div>
                                        <div class="card-body">
                                            <form>
                                                <div class="form-check form-switch mb-3">
                                                    <input class="form-check-input" type="checkbox" id="enableAutoBackup" checked>
                                                    <label class="form-check-label" for="enableAutoBackup">启用自动备份</label>
                                                </div>
                                                
                                                <div class="row mb-3">
                                                    <div class="col-md-6">
                                                        <label class="form-label">备份频率</label>
                                                        <select class="form-select">
                                                            <option>每天</option>
                                                            <option selected>每周</option>
                                                            <option>每月</option>
                                                        </select>
                                                    </div>
                                                    <div class="col-md-6">
                                                        <label class="form-label">备份时间</label>
                                                        <input type="time" class="form-control" value="03:00">
                                                    </div>
                                                </div>
                                                
                                                <div class="row mb-3">
                                                    <div class="col-md-6">
                                                        <label class="form-label">备份保留数量</label>
                                                        <input type="number" class="form-control" value="10" min="1" max="100">
                                                        <div class="form-text">系统将保留最近的备份数量，超过将自动删除最旧的备份</div>
                                                    </div>
                                                    <div class="col-md-6">
                                                        <label class="form-label">备份存储位置</label>
                                                        <input type="text" class="form-control" value="/data/backups">
                                                    </div>
                                                </div>
                                                
                                                <div class="form-check mb-3">
                                                    <input class="form-check-input" type="checkbox" id="notifyAfterBackup" checked>
                                                    <label class="form-check-label" for="notifyAfterBackup">
                                                        备份完成后发送邮件通知
                                                    </label>
                                                </div>
                                                
                                                <div class="text-end">
                                                    <button type="button" class="btn btn-primary">保存备份设置</button>
                                                </div>
                                            </form>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- 添加用户弹窗 -->
    <div class="modal fade" id="addUserModal" tabindex="-1" aria-hidden="true">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">添加用户</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <form>
                        <div class="row mb-3">
                            <div class="col-md-6">
                                <label class="form-label">用户名</label>
                                <input type="text" class="form-control" required>
                                <div class="form-text">用户名将用于登录系统</div>
                            </div>
                            <div class="col-md-6">
                                <label class="form-label">姓名</label>
                                <input type="text" class="form-control" required>
                            </div>
                        </div>
                        <div class="row mb-3">
                            <div class="col-md-6">
                                <label class="form-label">邮箱</label>
                                <input type="email" class="form-control" required>
                            </div>
                            <div class="col-md-6">
                                <label class="form-label">手机号码</label>
                                <input type="tel" class="form-control">
                            </div>
                        </div>
                        <div class="row mb-3">
                            <div class="col-md-6">
                                <label class="form-label">密码</label>
                                <input type="password" class="form-control" required>
                            </div>
                            <div class="col-md-6">
                                <label class="form-label">确认密码</label>
                                <input type="password" class="form-control" required>
                            </div>
                        </div>
                        <div class="row mb-3">
                            <div class="col-md-6">
                                <label class="form-label">用户角色</label>
                                <select class="form-select" required>
                                    <option value="">选择角色</option>
                                    <option value="admin">管理员</option>
                                    <option value="operator">操作员</option>
                                    <option value="inspector">检测员</option>
                                    <option value="viewer">查看者</option>
                                </select>
                            </div>
                            <div class="col-md-6">
                                <label class="form-label">用户状态</label>
                                <select class="form-select" required>
                                    <option value="active" selected>活跃</option>
                                    <option value="inactive">禁用</option>
                                </select>
                            </div>
                        </div>
                        <div class="mb-3">
                            <label class="form-label">权限设置</label>
                            <div class="row">
                                <div class="col-md-4">
                                    <div class="form-check">
                                        <input class="form-check-input" type="checkbox" id="perm1">
                                        <label class="form-check-label" for="perm1">查看检测数据</label>
                                    </div>
                                </div>
                                <div class="col-md-4">
                                    <div class="form-check">
                                        <input class="form-check-input" type="checkbox" id="perm2">
                                        <label class="form-check-label" for="perm2">添加样品</label>
                                    </div>
                                </div>
                                <div class="col-md-4">
                                    <div class="form-check">
                                        <input class="form-check-input" type="checkbox" id="perm3">
                                        <label class="form-check-label" for="perm3">上传检测报告</label>
                                    </div>
                                </div>
                                <div class="col-md-4">
                                    <div class="form-check">
                                        <input class="form-check-input" type="checkbox" id="perm4">
                                        <label class="form-check-label" for="perm4">任务调度管理</label>
                                    </div>
                                </div>
                                <div class="col-md-4">
                                    <div class="form-check">
                                        <input class="form-check-input" type="checkbox" id="perm5">
                                        <label class="form-check-label" for="perm5">查看报表</label>
                                    </div>
                                </div>
                                <div class="col-md-4">
                                    <div class="form-check">
                                        <input class="form-check-input" type="checkbox" id="perm6">
                                        <label class="form-check-label" for="perm6">系统设置</label>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="mb-3">
                            <label class="form-label">备注</label>
                            <textarea class="form-control" rows="2"></textarea>
                        </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">取消</button>
                    <button type="button" class="btn btn-primary">添加用户</button>
                </div>
            </div>
        </div>
    </div>

    <!-- 编辑用户弹窗 -->
    <div class="modal fade" id="editUserModal" tabindex="-1" aria-hidden="true">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">编辑用户</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <form>
                        <div class="row mb-3">
                            <div class="col-md-6">
                                <label class="form-label">用户名</label>
                                <input type="text" class="form-control" value="operator1" disabled>
                            </div>
                            <div class="col-md-6">
                                <label class="form-label">姓名</label>
                                <input type="text" class="form-control" value="张三" required>
                            </div>
                        </div>
                        <div class="row mb-3">
                            <div class="col-md-6">
                                <label class="form-label">邮箱</label>
                                <input type="email" class="form-control" value="zhangsan@example.com" required>
                            </div>
                            <div class="col-md-6">
                                <label class="form-label">手机号码</label>
                                <input type="tel" class="form-control" value="13900001111">
                            </div>
                        </div>
                        <div class="row mb-3">
                            <div class="col-md-6">
                                <label class="form-label">重置密码</label>
                                <input type="password" class="form-control">
                                <div class="form-text">留空表示不修改密码</div>
                            </div>
                            <div class="col-md-6">
                                <label class="form-label">确认密码</label>
                                <input type="password" class="form-control">
                            </div>
                        </div>
                        <div class="row mb-3">
                            <div class="col-md-6">
                                <label class="form-label">用户角色</label>
                                <select class="form-select" required>
                                    <option value="admin">管理员</option>
                                    <option value="operator" selected>操作员</option>
                                    <option value="inspector">检测员</option>
                                    <option value="viewer">查看者</option>
                                </select>
                            </div>
                            <div class="col-md-6">
                                <label class="form-label">用户状态</label>
                                <select class="form-select" required>
                                    <option value="active" selected>活跃</option>
                                    <option value="inactive">禁用</option>
                                </select>
                            </div>
                        </div>
                        <div class="mb-3">
                            <label class="form-label">权限设置</label>
                            <div class="row">
                                <div class="col-md-4">
                                    <div class="form-check">
                                        <input class="form-check-input" type="checkbox" id="editPerm1" checked>
                                        <label class="form-check-label" for="editPerm1">查看检测数据</label>
                                    </div>
                                </div>
                                <div class="col-md-4">
                                    <div class="form-check">
                                        <input class="form-check-input" type="checkbox" id="editPerm2" checked>
                                        <label class="form-check-label" for="editPerm2">添加样品</label>
                                    </div>
                                </div>
                                <div class="col-md-4">
                                    <div class="form-check">
                                        <input class="form-check-input" type="checkbox" id="editPerm3" checked>
                                        <label class="form-check-label" for="editPerm3">上传检测报告</label>
                                    </div>
                                </div>
                                <div class="col-md-4">
                                    <div class="form-check">
                                        <input class="form-check-input" type="checkbox" id="editPerm4">
                                        <label class="form-check-label" for="editPerm4">任务调度管理</label>
                                    </div>
                                </div>
                                <div class="col-md-4">
                                    <div class="form-check">
                                        <input class="form-check-input" type="checkbox" id="editPerm5" checked>
                                        <label class="form-check-label" for="editPerm5">查看报表</label>
                                    </div>
                                </div>
                                <div class="col-md-4">
                                    <div class="form-check">
                                        <input class="form-check-input" type="checkbox" id="editPerm6">
                                        <label class="form-check-label" for="editPerm6">系统设置</label>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="mb-3">
                            <label class="form-label">备注</label>
                            <textarea class="form-control" rows="2">负责日常样品录入和检测报告上传工作</textarea>
                        </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">取消</button>
                    <button type="button" class="btn btn-primary">保存修改</button>
                </div>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/echarts@5.4.3/dist/echarts.min.js"></script>
    <script>
        // 用户角色权限联动
        document.addEventListener('DOMContentLoaded', function() {
            const roleSelects = document.querySelectorAll('select[required]');
            roleSelects.forEach(select => {
                if (select.closest('form') && select.options[0].value === "") {
                    select.addEventListener('change', function() {
                        if (this.value === "admin") {
                            const checkboxes = this.closest('form').querySelectorAll('input[type="checkbox"]');
                            checkboxes.forEach(checkbox => {
                                checkbox.checked = true;
                            });
                        }
                    });
                }
            });
            
            // 主题切换功能可以在此处添加
            // 数据备份自动备份设置联动
            const autoBackupCheckbox = document.getElementById('enableAutoBackup');
            if (autoBackupCheckbox) {
                autoBackupCheckbox.addEventListener('change', function() {
                    const backupFields = document.querySelectorAll('#backup select, #backup input[type="time"], #backup input[type="number"]');
                    backupFields.forEach(field => {
                        field.disabled = !this.checked;
                    });
                });
            }
        });
    </script>
</body>
</html> 